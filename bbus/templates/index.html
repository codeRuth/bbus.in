<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/static/bootstrap.min.css">
    <link href="/static/signin.css" rel="stylesheet">
    <link href="/static/typeahead.css" rel="stylesheet">
    <script src="/static/jquery-2.1.0.min.js"></script>
    <script src="/static/bootstrap.min.js"></script>
    <script src="/static/typeahead.bundle.min.js"></script>
    <title>bbus.in | BMTC Bus Route Search</title>
    <meta property="og:title" content="bbus.in - BMTC Bus Route Search" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://www.bbus.in/" />
    <meta property="og:image" content="http://bangalorereporter.com/wp-content/uploads/2013/07/0311.jpg" />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:image:width" content="400" />
    <meta property="og:image:height" content="400" />
</head>
<body>
<div class="container">
     <div class="col-md-3"></div>
     <div class="col-md-6">
          <form method="POST" action="/search">{% csrf_token %}
             <div class="form-group">
                <label for="from">From:</label>
                <div class="js-from">
                    <input type="text" class="typeahead form-control" name="from" placeholder="Start From ..."/>
                </div>
             </div>
             <div class="form-group">
                <label for="to">To:</label>
                <div class="js-to">
                   <input type="text" class="typeahead form-control" name="to" placeholder="Reach to ..."/>
                </div>
             </div>
             <div class="form-group">
                <label for="to">How do you want to travel?:</label>
                <div class="js-to">
                   <select name='how' class="form-control">
                        <option>Minimum Number of Hops</option>
                        <option>Maximum Bus Route Availability</option>
                        <option>Via Terminal Bus Stations Only</option>
                        <option>Direct Routes Only</option>
                        <option>Shortest Distance</option>
                   </select>
                </div>
             </div>
             <br/><br/>
             <center><button type="submit" class="btn btn-primary btn-lg">Search</button></center>
          </form>
     </div>
     <div class="col-md-3">
        {% include "social_btns.html" %}
     </div>
</div>
<br/>
<center>
<h3>bbus.in <small> BMTC Bus Route Search</small></h3>
<iframe src="http://ghbtns.com/github-btn.html?user=vivekchand&repo=bbus.in&type=fork"
  allowtransparency="true" frameborder="0" scrolling="0" width="53" height="20"></iframe>
<br/>
</center>
</body>
<script type="text/javascript">
$(document).ready(function() {
    (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.async=true; js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=534027093377555";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));

    (function() {
      var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
      po.src = 'https://apis.google.com/js/platform.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();

    var bus_stops = new Bloodhound({
      datumTokenizer: function(d) { return Bloodhound.tokenizers.whitespace(d.name); },
      queryTokenizer: Bloodhound.tokenizers.whitespace,
      limit: 8,
      prefetch: {
        url: '/static/bus_list.json',
        filter: function(list) {
         return $.map(list, function(bus_stop) { return { name: bus_stop }; });
        }
      }
    });

    bus_stops.initialize();

    $('.js-to .typeahead').typeahead({
      highlight: true,
     }, {
      name: 'bus_stops',
      displayKey: 'name',
      source: bus_stops.ttAdapter()
    });

    $('.js-from .typeahead').typeahead({
      highlight: true,
    }, {
      name: 'bus_stops',
      displayKey: 'name',
      source: bus_stops.ttAdapter(),
    });
});
</script>
</html>
